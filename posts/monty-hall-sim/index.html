<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>The Monty Hall Problem: Intuition and Simulation | YAB (Yet Another Blog)</title>
<meta name="keywords" content="python, probability">
<meta name="description" content="The Monty Hall problem is an interesting puzzle in probability which has a counter-intuitive answer. In fact, it is documented that many well known mathematicians, PhDs and nobel laureates got the answer wrong too and many people continue to get the answer wrong.
The problem The problem goes somewhat like this:
Imagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats.">
<meta name="author" content="">
<link rel="canonical" href="http://shalbhav.github.io/posts/monty-hall-sim/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css" integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://shalbhav.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://shalbhav.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://shalbhav.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://shalbhav.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://shalbhav.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="The Monty Hall Problem: Intuition and Simulation" />
<meta property="og:description" content="The Monty Hall problem is an interesting puzzle in probability which has a counter-intuitive answer. In fact, it is documented that many well known mathematicians, PhDs and nobel laureates got the answer wrong too and many people continue to get the answer wrong.
The problem The problem goes somewhat like this:
Imagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://shalbhav.github.io/posts/monty-hall-sim/" /><meta property="article:section" content="posts" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Monty Hall Problem: Intuition and Simulation"/>
<meta name="twitter:description" content="The Monty Hall problem is an interesting puzzle in probability which has a counter-intuitive answer. In fact, it is documented that many well known mathematicians, PhDs and nobel laureates got the answer wrong too and many people continue to get the answer wrong.
The problem The problem goes somewhat like this:
Imagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://shalbhav.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "The Monty Hall Problem: Intuition and Simulation",
      "item": "http://shalbhav.github.io/posts/monty-hall-sim/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "The Monty Hall Problem: Intuition and Simulation",
  "name": "The Monty Hall Problem: Intuition and Simulation",
  "description": "The Monty Hall problem is an interesting puzzle in probability which has a counter-intuitive answer. In fact, it is documented that many well known mathematicians, PhDs and nobel laureates got the answer wrong too and many people continue to get the answer wrong.\nThe problem The problem goes somewhat like this:\nImagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats.",
  "keywords": [
    "python", "probability"
  ],
  "articleBody": "The Monty Hall problem is an interesting puzzle in probability which has a counter-intuitive answer. In fact, it is documented that many well known mathematicians, PhDs and nobel laureates got the answer wrong too and many people continue to get the answer wrong.\nThe problem The problem goes somewhat like this:\nImagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats. The player picks a door hoping to win a car that’s behind the door. The game show host opens one of the other doors to reveal a goat (always). Does the player need to switch the choice of his door or stick with his first guess?\nWhen I first saw the problem, I went headlong into solving it and got the answer wrong.\nThe common mistake The usual first solution that is offered is to not switch the chosen door after one of the doors is opened. After this step, most people think there is equal probability of the car being in either of the remaining closed doors. Lot of people got the answer wrong when it was first posed and continue to get it wrong. Wikipedia has documented many reasons why people make this choice of not wanting to switch which is an interesting read.\nThe actual solution (Spoiler alert!) The correct answer is to switch the choice of the door after the game host has revealed a goat by opening one of the two closed doors.\nAn intuitive explanation There is a purely probability based solution described in many places on the internet, which is somewhat of a hard read. Yes, I looked up the answer, but it was kind of unsatisfying, mainly because it was hard to intuitively grasp the answer based on probability. While thinking over this on and off, I chanced to come up with an alternative solution which is also presented elsewhere on the internet.\nTo begin with, there is one car and two goats behind 3 closed doors. So this essentially means there is a higher probability of picking a door with a goat behind it. Let’s recall from the definition of probability, in our case:\nThe probability of picking a goat is:\nNumber of goats / total number of all things (goats and cars) = 2 / 3\nSo, statiscally, there is a higher chance of picking a door with a goat behind it in the beginning. Therefore, it makes sense to switch the door after the game show host has opened to reveal a goat behind one of the closed doors.\nIn fact, even if the problem were to be modified as I explain below, the correct answer is to always switch the door.\nLet’s say we have 100 closed doors, with 99 goats and 1 car behind them. Now you can immediately see there is more chance (99/100 to be exact) of somebody randomly picking a door with a goat behind it. Now if the game show host opens 98 of the 99 closed doors to reveal 98 goats behind them, leaving only one door unopened, then doesn’t it make sense to switch the door that you initially picked?\nSimulation Let’s create a simulation to drive home this intuition and to prove that this is indeed the correct answer.\nFirst, let’s write a function to create a game. The game consists of a number of doors with 1 car and the rest of them goats. The function returns an array whose elements represent doors and what’s behind them, i.e., 1 for car and 0 for goats.\nNow let’s run it to see that indeed the car is behind a different door in each game instance (statistically speaking).\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import numpy as np def create_game(num_doors=3): \"\"\"Create and return number of doors with one car (represented by 1) in a random position and the rest with goats (represented by 0).\"\"\" # Initialize random number generator rng = np.random.default_rng(np.random.randint(123456789)) doors = np.zeros((num_doors,), dtype=int) # 1 = car, 0 = goat. Initialize car behind one of the doors picked at random. doors[rng.integers(num_doors)] = 1 return doors # Create games with 3 doors print(\"Games with 3 doors:\") for i in range(5): new_game_door = create_game(num_doors=3) print(new_game_door) # Create games with 10 doors print(\"\\nGames with 10 doors:\") for i in range(5): new_game_door = create_game(num_doors=10) print(new_game_door) Games with 3 doors: [0 1 0] [0 1 0] [1 0 0] [0 1 0] [0 1 0] Games with 10 doors: [0 1 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 1 0 0] [0 0 0 0 0 0 0 0 0 1] [0 0 1 0 0 0 0 0 0 0] [0 0 0 0 0 1 0 0 0 0] We can see that the car (1) is set in the arrays above at random positions within each array.\nLet’s create a function to select a door in an instance of the game. This function will return the player’s choice of the door by sampling a random number from the number of doors.\n1 2 3 4 5 6 7 8 import numpy as np def select_door(game): \"\"\"Select a door from the game (player's choice at the beginning). Return the index of the selected door.\"\"\" selected_door = np.random.randint(len(game)) return selected_door We then simulate the part where the game show host reveals all the doors that have goats behind them except for one door and the player ends up with two doors to figure out what to do next.\nWe can do this by creating a new array that represents the doors that includes the value of the index (door) that was chosen by the player and the value of the remaining item in the array after revealing all the goats.\nIf the player had selected a door with a car behind it (value 1), then the remaining doors are all goats (0s). The new array will contain elements [1, 0].\nIf the player had selected a door with a goat behind it (value 0), the remaining doors have one car (value 1) and the rest goats (0s). So the new array will have the elements [0, 1] because the game show host has to reveal only the doors with goats behind them which leaves one unopened door with a car behind it.\n1 2 3 4 5 6 7 8 9 10 11 12 13 import numpy as np def reveal_goats(selected_door): \"\"\"Function that returns an array representing the two doors after the game show host has revealed all the goats. The first element in the array represents the door that the player had picked in the beginning. The second element in the array represents the remaining door after rest of the doors were opened to reveal goats.\"\"\" if selected_door == 1: return np.array([1, 0]) else: return np.array([0, 1]) Now, the following two cases are possible:\nPlayer switches the door When the player switches the door, the result is given by the second element of the two element array.\nPlayer does not switch In this case, the result is given by the first element of the two element array.\n1 2 3 4 5 def result(remaining_doors, switch=True): if switch == True: return remaining_doors[1] else: return remaining_doors[0] Results Now that we have all the pieces, we can put them together and run the simulation to study the overall winnings when the player switches and when they do not.\nThe entire code is shown below and is also available in my github repo.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 import numpy as np import matplotlib.pyplot as plt def create_game(num_doors=3): \"\"\"Create and return number of doors with one car (represented by 1) in a random position and the rest with goats (represented by 0).\"\"\" # Initialize random number generator rng = np.random.default_rng(np.random.randint(123456789)) doors = np.zeros((num_doors,), dtype=int) # 1 = car, 0 = goat. Initialize car behind one of the doors picked at random. doors[rng.integers(num_doors)] = 1 return doors def select_door(game): \"\"\"Select a door from the game (player's choice at the beginning). Return the index of the selected door.\"\"\" selected_door = np.random.randint(len(game)) return selected_door def reveal_goats(selected_door): \"\"\"Function that returns an array representing the two doors after the game show host has revealed all the goats. The first element in the array represents the door that the player had picked in the beginning. The second element in the array represents the remaining door after rest of the doors were opened to reveal goats.\"\"\" if selected_door == 1: return np.array([1, 0]) else: return np.array([0, 1]) def result(doors, switch=True): \"\"\"Function that returns the eventual choice of the player. If the player switches, return the second element in the array, else return the first.\"\"\" if switch is True: return doors[1] else: return doors[0] # Play 100 times the game of 3 doors. accum_result_no_switch = [] accum_result_switch = [] res_no_switch = 0 res_switch = 0 for i in range(100): new_game = create_game(num_doors=3) selected_door = select_door(new_game) final_doors = reveal_goats(selected_door) res_no_switch += result(final_doors, switch=False) res_switch += result(final_doors, switch=True) accum_result_no_switch.append(res_no_switch) accum_result_switch.append(res_switch) plt.plot(np.arange(len(accum_result_no_switch)), accum_result_no_switch, label='Accumulated Wins (No Switch)') plt.plot(np.arange(len(accum_result_switch)), accum_result_switch, label='Accumulated Wins (Switch)') plt.xlabel(\"Number of games played\") plt.ylabel(\"Wins\") plt.title(\"Number of Doors = 3\") plt.legend() plt.savefig(\"100games3doors.png\") # The next return statement was needed for org-mode for creating this blog return \"100games3doors.png\" As we can see in the plot, the overall winnings is higher in the long run if the player chooses to switch the door. This is of course a statistical result, which means that there is about 1/3 probability of the player winning even if he chooses not to switch. The plot is very similar to this wikipedia version. Due to the probabilistic nature of the game/simulation, the plots will look slightly different each time the simulation is run.\nAnd now! Monty Hall problem with 100 doors ;) If you run the simulation for a 100 door game (1 car, 99 goats), it’s quite evident from the plot below that it makes perfect sense to switch! The chances of winning in this case if you don’t switch is miniscule. And now! Monty Hall problem with a million doors Ok, now I know I am pushing it. Until later, bye and hope this was interesting and fun to read.\n",
  "wordCount" : "1786",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://shalbhav.github.io/posts/monty-hall-sim/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "YAB (Yet Another Blog)",
    "logo": {
      "@type": "ImageObject",
      "url": "http://shalbhav.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://shalbhav.github.io/" accesskey="h" title="YAB (Yet Another Blog) (Alt + H)">YAB (Yet Another Blog)</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://shalbhav.github.io/posts/" title="posts">
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href="http://shalbhav.github.io/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="http://shalbhav.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="http://shalbhav.github.io/search/" title="search">
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="http://shalbhav.github.io/archives/" title="archive">
                    <span>archive</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://shalbhav.github.io/">Home</a>&nbsp;»&nbsp;<a href="http://shalbhav.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      The Monty Hall Problem: Intuition and Simulation
    </h1>
    <div class="post-meta">9 min

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-problem" aria-label="The problem">The problem</a></li>
                <li>
                    <a href="#the-common-mistake" aria-label="The common mistake">The common mistake</a></li>
                <li>
                    <a href="#the-actual-solution--spoiler-alert" aria-label="The actual solution (Spoiler alert!)">The actual solution (Spoiler alert!)</a></li>
                <li>
                    <a href="#an-intuitive-explanation" aria-label="An intuitive explanation">An intuitive explanation</a></li>
                <li>
                    <a href="#simulation" aria-label="Simulation">Simulation</a><ul>
                        <ul>
                        
                <li>
                    <a href="#player-switches-the-door" aria-label="Player switches the door">Player switches the door</a></li>
                <li>
                    <a href="#player-does-not-switch" aria-label="Player does not switch">Player does not switch</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#results" aria-label="Results">Results</a><ul>
                        
                <li>
                    <a href="#and-now-monty-hall-problem-with-100-doors" aria-label="And now! Monty Hall problem with 100 doors ;)">And now! Monty Hall problem with 100 doors ;)</a></li>
                <li>
                    <a href="#and-now-monty-hall-problem-with-a-million-doors" aria-label="And now! Monty Hall problem with a million doors">And now! Monty Hall problem with a million doors</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>The Monty Hall problem is an interesting puzzle in probability which has a
counter-intuitive answer. In fact, it is documented that many well known
mathematicians, PhDs and nobel laureates got the answer wrong too and many
people continue to get the answer wrong.</p>
<h2 id="the-problem">The problem<a hidden class="anchor" aria-hidden="true" href="#the-problem">#</a></h2>
<p>The problem goes somewhat like <a href="https://en.m.wikipedia.org/wiki/Monty_Hall_problem">this</a>:</p>
<p><em>Imagine a game show. There are 3 doors and behind one door there is a car and behind the other 2, goats. The player picks a door hoping to
win a car that&rsquo;s behind the door. The game show host opens one of the other doors to reveal a goat (always). Does the player need to switch the choice of his door or stick with his first guess?</em></p>
<p>When I first saw the problem, I went headlong into solving it and got the answer
wrong.</p>
<h2 id="the-common-mistake">The common mistake<a hidden class="anchor" aria-hidden="true" href="#the-common-mistake">#</a></h2>
<p>The usual first solution that is offered is to not switch the chosen door after
one of the doors is opened. After this step, most people think there is equal
probability of the car being in either of the remaining closed doors. Lot of
people got the answer wrong when it was first posed and continue to get it
wrong. <a href="https://en.m.wikipedia.org/wiki/Monty_Hall_problem">Wikipedia</a> has documented many reasons why people make this choice of not
wanting to switch which is an interesting read.</p>
<h2 id="the-actual-solution--spoiler-alert">The actual solution (Spoiler alert!)<a hidden class="anchor" aria-hidden="true" href="#the-actual-solution--spoiler-alert">#</a></h2>
<p>The correct answer is to switch the choice of the door after the game host has
revealed a goat by opening one of the two closed doors.</p>
<h2 id="an-intuitive-explanation">An intuitive explanation<a hidden class="anchor" aria-hidden="true" href="#an-intuitive-explanation">#</a></h2>
<p>There is a purely probability based solution described in many places on the
internet, which is somewhat of a hard read. Yes, I looked up the answer, but it
was kind of unsatisfying, mainly because it was hard to intuitively grasp the
answer based on probability. While thinking over this on and off, I chanced to
come up with an alternative solution which is also presented elsewhere on the internet.</p>
<p>To begin with, there is one car and two goats behind 3 closed doors. So this
essentially means there is a higher probability of picking a door with a goat
behind it. Let&rsquo;s recall from the definition of probability, in our case:</p>
<p>The probability of picking a goat is:</p>
<style>.org-center { margin-left: auto; margin-right: auto; text-align: center; }</style>
<div class="org-center">
<p><em>Number of goats</em> / <em>total number of all things (goats and cars)</em> = 2 / 3</p>
</div>
<p>So, statiscally, there is a higher chance of picking a door with a goat behind
it in the beginning. Therefore, it makes sense to switch the door after the game
show host has opened to reveal a goat behind one of the closed doors.</p>
<p>In fact, even if the problem were to be modified as I explain below, the correct
answer is to always switch the door.</p>
<p>Let&rsquo;s say we have 100 closed doors, with 99 goats and 1 car behind them. Now you
can immediately see there is more chance (99/100 to be exact) of somebody
randomly picking a door with a goat behind it. Now if the game show host opens
98 of the 99 closed doors to reveal 98 goats behind them, leaving only one door
unopened, then doesn&rsquo;t it make sense to switch the door that you initially picked?</p>
<h2 id="simulation">Simulation<a hidden class="anchor" aria-hidden="true" href="#simulation">#</a></h2>
<p>Let&rsquo;s create a simulation to drive home this intuition and to prove that this is
indeed the correct answer.</p>
<p>First, let&rsquo;s write a function to create a game. The game consists of a number of
doors with 1 car and the rest of them goats. The function returns an array whose
elements represent doors and what&rsquo;s behind them, i.e., 1 for car and 0 for goats.</p>
<p>Now let&rsquo;s run it to see that indeed the car is behind a different door in each
game instance (statistically speaking).</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_game</span>(num_doors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Create and return number of doors with one car (represented by 1) in a
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    random position and the rest with goats (represented by 0).&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Initialize random number generator</span>
</span></span><span style="display:flex;"><span>    rng <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>default_rng(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">123456789</span>))
</span></span><span style="display:flex;"><span>    doors <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>zeros((num_doors,), dtype<span style="color:#f92672">=</span>int)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 1 = car, 0 = goat. Initialize car behind one of the doors picked at random.</span>
</span></span><span style="display:flex;"><span>    doors[rng<span style="color:#f92672">.</span>integers(num_doors)] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> doors
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create games with 3 doors</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Games with 3 doors:&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    new_game_door <span style="color:#f92672">=</span> create_game(num_doors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>    print(new_game_door)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create games with 10 doors</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Games with 10 doors:&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    new_game_door <span style="color:#f92672">=</span> create_game(num_doors<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    print(new_game_door)
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Games with 3 doors:
</span></span><span style="display:flex;"><span>[0 1 0]
</span></span><span style="display:flex;"><span>[0 1 0]
</span></span><span style="display:flex;"><span>[1 0 0]
</span></span><span style="display:flex;"><span>[0 1 0]
</span></span><span style="display:flex;"><span>[0 1 0]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Games with 10 doors:
</span></span><span style="display:flex;"><span>[0 1 0 0 0 0 0 0 0 0]
</span></span><span style="display:flex;"><span>[0 0 0 0 0 0 0 1 0 0]
</span></span><span style="display:flex;"><span>[0 0 0 0 0 0 0 0 0 1]
</span></span><span style="display:flex;"><span>[0 0 1 0 0 0 0 0 0 0]
</span></span><span style="display:flex;"><span>[0 0 0 0 0 1 0 0 0 0]
</span></span></code></pre></div><p>We can see that the car (1) is set in the arrays above at random positions
within each array.</p>
<p>Let&rsquo;s create a function to select a door in an instance of the game. This
function will return the player&rsquo;s choice of the door by sampling a random number
from the number of doors.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">select_door</span>(game):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Select a door from the game (player&#39;s choice at the beginning).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Return the index of the selected door.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    selected_door <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(len(game))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> selected_door
</span></span></code></pre></td></tr></table>
</div>
</div><p>We then simulate the part where the game show host reveals all the doors that
have goats behind them except for one door and the player ends up with two doors
to figure out what to do next.</p>
<p>We can do this by creating a new array that represents the doors that includes
the value of the index (door) that was chosen by the player and the value of the
remaining item in the array after revealing all the goats.</p>
<p>If the player had selected a door with a car behind it (value 1), then the
remaining doors are all goats (0s). The new array will contain elements [1, 0].</p>
<p>If the player had selected a door with a goat behind it (value 0), the remaining
doors have one car (value 1) and the rest goats (0s). So the new array will have
the elements [0, 1] because the game show host has to reveal only the doors with
goats behind them which leaves one unopened door with a car behind it.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reveal_goats</span>(selected_door):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Function that returns an array representing the two doors after the game
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    show host has revealed all the goats.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    The first element in the array represents the door that the player had
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    picked in the beginning. The second element in the array represents the
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    remaining door after rest of the doors were opened to reveal goats.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> selected_door <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>])
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now, the following two cases are possible:</p>
<h4 id="player-switches-the-door">Player switches the door<a hidden class="anchor" aria-hidden="true" href="#player-switches-the-door">#</a></h4>
<p>When the player switches the door, the result is given by the second element of
the two element array.</p>
<h4 id="player-does-not-switch">Player does not switch<a hidden class="anchor" aria-hidden="true" href="#player-does-not-switch">#</a></h4>
<p>In this case, the result is given by the first element of the two element array.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">result</span>(remaining_doors, switch<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> switch <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> remaining_doors[<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> remaining_doors[<span style="color:#ae81ff">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="results">Results<a hidden class="anchor" aria-hidden="true" href="#results">#</a></h2>
<p>Now that we have all the pieces, we can put them together and run the simulation
to study the overall winnings when the player switches and when they do not.</p>
<p>The entire code is shown below and is also available in my <a href="https://github.com/shalbhav/python/tree/master/monty_hall_sim">github repo</a>.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_game</span>(num_doors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Create and return number of doors with one car (represented by 1) in a
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      random position and the rest with goats (represented by 0).&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Initialize random number generator</span>
</span></span><span style="display:flex;"><span>    rng <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>default_rng(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">123456789</span>))
</span></span><span style="display:flex;"><span>    doors <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>zeros((num_doors,), dtype<span style="color:#f92672">=</span>int)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 1 = car, 0 = goat. Initialize car behind one of the doors picked at random.</span>
</span></span><span style="display:flex;"><span>    doors[rng<span style="color:#f92672">.</span>integers(num_doors)] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> doors
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">select_door</span>(game):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Select a door from the game (player&#39;s choice at the beginning).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      Return the index of the selected door.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    selected_door <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(len(game))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> selected_door
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reveal_goats</span>(selected_door):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Function that returns an array representing the two doors after the game
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      show host has revealed all the goats.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      The first element in the array represents the door that the player had
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      picked in the beginning. The second element in the array represents the
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      remaining door after rest of the doors were opened to reveal goats.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> selected_door <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">result</span>(doors, switch<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Function that returns the eventual choice of the player.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    If the player switches, return the second element in the array,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    else return the first.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> switch <span style="color:#f92672">is</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> doors[<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> doors[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Play 100 times the game of 3 doors.</span>
</span></span><span style="display:flex;"><span>accum_result_no_switch <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>accum_result_switch <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>res_no_switch <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>res_switch <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">100</span>):
</span></span><span style="display:flex;"><span>    new_game <span style="color:#f92672">=</span> create_game(num_doors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>    selected_door <span style="color:#f92672">=</span> select_door(new_game)
</span></span><span style="display:flex;"><span>    final_doors <span style="color:#f92672">=</span> reveal_goats(selected_door)
</span></span><span style="display:flex;"><span>    res_no_switch <span style="color:#f92672">+=</span> result(final_doors, switch<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>    res_switch <span style="color:#f92672">+=</span> result(final_doors, switch<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    accum_result_no_switch<span style="color:#f92672">.</span>append(res_no_switch)
</span></span><span style="display:flex;"><span>    accum_result_switch<span style="color:#f92672">.</span>append(res_switch)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(np<span style="color:#f92672">.</span>arange(len(accum_result_no_switch)),
</span></span><span style="display:flex;"><span>       accum_result_no_switch, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Accumulated Wins (No Switch)&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(np<span style="color:#f92672">.</span>arange(len(accum_result_switch)),
</span></span><span style="display:flex;"><span>       accum_result_switch, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Accumulated Wins (Switch)&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;Number of games played&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Wins&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#34;Number of Doors = 3&#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>savefig(<span style="color:#e6db74">&#34;100games3doors.png&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># The next return statement was needed for org-mode for creating this blog</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;100games3doors.png&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><figure>
    <img loading="lazy" src="/ox-hugo/100games3doors.png"/> 
</figure>

<p>As we can see in the plot, the overall winnings is higher in the long run if the
player chooses to switch the door. This is of course a statistical result, which
means that there is about 1/3 probability of the player winning even if he
chooses not to switch. The plot is very similar to this <a href="https://en.m.wikipedia.org/wiki/Monty_Hall_problem#/media/File%3AMonty_problem_monte_carlo.svg">wikipedia</a> version. Due
to the probabilistic nature of the game/simulation, the plots will look
slightly different each time the simulation is run.<br /></p>
<h3 id="and-now-monty-hall-problem-with-100-doors">And now! Monty Hall problem with 100 doors ;)<a hidden class="anchor" aria-hidden="true" href="#and-now-monty-hall-problem-with-100-doors">#</a></h3>
<p>If you run the simulation for a 100 door game (1 car, 99 goats), it&rsquo;s quite
evident from the plot below that it makes perfect sense to switch! The
chances of winning in this case if you don&rsquo;t switch is miniscule.
<br /></p>
<figure>
    <img loading="lazy" src="/ox-hugo/100games100doors.png"/> 
</figure>

<h3 id="and-now-monty-hall-problem-with-a-million-doors">And now! Monty Hall problem with a million doors<a hidden class="anchor" aria-hidden="true" href="#and-now-monty-hall-problem-with-a-million-doors">#</a></h3>
<p>Ok, now I know I am pushing it. Until later, bye and hope this was interesting
and fun to read.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://shalbhav.github.io/tags/python/">python</a></li>
      <li><a href="http://shalbhav.github.io/tags/probability/">probability</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="http://shalbhav.github.io/posts/org-mode-present-focus/">
    <span class="title">Next »</span>
    <br>
    <span>Presenting with Emacs Org-mode</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share The Monty Hall Problem: Intuition and Simulation on twitter"
        href="https://twitter.com/intent/tweet/?text=The%20Monty%20Hall%20Problem%3a%20Intuition%20and%20Simulation&amp;url=http%3a%2f%2fshalbhav.github.io%2fposts%2fmonty-hall-sim%2f&amp;hashtags=python%2cprobability">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share The Monty Hall Problem: Intuition and Simulation on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fshalbhav.github.io%2fposts%2fmonty-hall-sim%2f&amp;title=The%20Monty%20Hall%20Problem%3a%20Intuition%20and%20Simulation&amp;summary=The%20Monty%20Hall%20Problem%3a%20Intuition%20and%20Simulation&amp;source=http%3a%2f%2fshalbhav.github.io%2fposts%2fmonty-hall-sim%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share The Monty Hall Problem: Intuition and Simulation on whatsapp"
        href="https://api.whatsapp.com/send?text=The%20Monty%20Hall%20Problem%3a%20Intuition%20and%20Simulation%20-%20http%3a%2f%2fshalbhav.github.io%2fposts%2fmonty-hall-sim%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
</div>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="http://shalbhav.github.io/">YAB (Yet Another Blog)</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
